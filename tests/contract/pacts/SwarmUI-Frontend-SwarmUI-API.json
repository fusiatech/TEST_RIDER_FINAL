{
  "consumer": {
    "name": "SwarmUI-Frontend"
  },
  "interactions": [
    {
      "description": "a request for all sessions",
      "providerStates": [
        {
          "name": "no sessions exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/sessions"
      },
      "response": {
        "body": [],
        "headers": {
          "Content-Type": "application/json"
        },
        "status": 200
      }
    }
  ],
  "metadata": {
    "pact-js": {
      "version": "13.2.0"
    },
    "pactRust": {
      "ffi": "0.4.22",
      "models": "1.2.3"
    },
    "pactSpecification": {
      "version": "3.0.0"
    }
  },
  "provider": {
    "name": "SwarmUI-API"
  }
}ponse": {
        "body": [
          {
            "createdAt": 1709000000000,
            "description": "A test project for contract testing",
            "epics": [],
            "features": [],
            "id": "550e8400-e29b-41d4-a716-446655440010",
            "name": "Test Project",
            "status": "planning",
            "tickets": [],
            "updatedAt": 1709000000000
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$[*].createdAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                }
              ]
            },
            "$[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].updatedAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          },
          "header": {},
          "status": {}
        },
        "status": 200
      }
    },
    {
      "description": "a request for health status",
      "providerStates": [
        {
          "name": "the server is running"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/health"
      },
      "response": {
        "body": {
          "checks": [
            {
              "message": "Heap: 50.0% used",
              "name": "memory",
              "status": "healthy"
            }
          ],
          "dependencies": [
            {
              "lastChecked": "2024-02-27T12:00:00.000Z",
              "latencyMs": 5,
              "message": "Sessions: 0, Projects: 0",
              "name": "database",
              "status": "healthy"
            }
          ],
          "details": {
            "activeJobCount": 0,
            "activeJobIds": [],
            "cacheStats": {
              "hitRate": 0,
              "maxSize": 100,
              "size": 0
            },
            "installedCLIs": [
              {
                "id": "cursor",
                "installed": true
              }
            ],
            "memoryUsage": {
              "external": 1000000,
              "heapTotal": 50000000,
              "heapUsagePercent": 50,
              "heapUsed": 25000000,
              "rss": 100000000
            },
            "queueDepth": 0,
            "systemMemory": {
              "freeMemMB": 8000,
              "totalMemMB": 16000,
              "usagePercent": 50
            }
          },
          "responseTimeMs": 10,
          "status": "healthy",
          "timestamp": "2024-02-27T12:00:00.000Z",
          "uptime": 123.456,
          "version": "1.0.0"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$.checks": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.checks[*].message": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.checks[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.checks[*].status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.dependencies": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.dependencies[*].lastChecked": {
              "combine": "AND",
              "matchers": [
                {
                  "format": "yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                  "match": "datetime"
                }
              ]
            },
            "$.dependencies[*].latencyMs": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.dependencies[*].message": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.dependencies[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.dependencies[*].status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details.activeJobCount": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.cacheStats": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details.cacheStats.hitRate": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "decimal"
                }
              ]
            },
            "$.details.cacheStats.maxSize": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.cacheStats.size": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.installedCLIs": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$.details.installedCLIs[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details.installedCLIs[*].installed": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details.memoryUsage": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details.memoryUsage.external": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.memoryUsage.heapTotal": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.memoryUsage.heapUsagePercent": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "decimal"
                }
              ]
            },
            "$.details.memoryUsage.heapUsed": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.memoryUsage.rss": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.queueDepth": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.systemMemory": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.details.systemMemory.freeMemMB": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.systemMemory.totalMemMB": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.details.systemMemory.usagePercent": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "decimal"
                }
              ]
            },
            "$.responseTimeMs": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.timestamp": {
              "combine": "AND",
              "matchers": [
                {
                  "format": "yyyy-MM-dd'T'HH:mm:ss.SSS'Z'",
                  "match": "datetime"
                }
              ]
            },
            "$.uptime": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "decimal"
                }
              ]
            },
            "$.version": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          },
          "header": {},
          "status": {}
        },
        "status": 200
      }
    },
    {
      "description": "a request for projects with ticket data",
      "providerStates": [
        {
          "name": "projects with tickets exist"
        }
      ],
      "request": {
        "method": "GET",
        "path": "/api/projects"
      },
      "response": {
        "body": [
          {
            "createdAt": 1709000000000,
            "description": "A project containing tickets",
            "epics": [],
            "features": [],
            "id": "550e8400-e29b-41d4-a716-446655440011",
            "name": "Project with Tickets",
            "status": "in_progress",
            "tickets": [
              {
                "acceptanceCriteria": [],
                "assignedRole": "coder",
                "complexity": "M",
                "createdAt": 1709000000000,
                "dependencies": [],
                "description": "A sample ticket description",
                "id": "550e8400-e29b-41d4-a716-446655440012",
                "projectId": "550e8400-e29b-41d4-a716-446655440011",
                "status": "backlog",
                "title": "Sample Ticket",
                "updatedAt": 1709000000000
              }
            ],
            "updatedAt": 1709000000000
          }
        ],
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$[*].createdAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                }
              ]
            },
            "$[*].name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type",
                  "min": 1
                }
              ]
            },
            "$[*].tickets[*].assignedRole": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets[*].complexity": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets[*].createdAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].tickets[*].description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets[*].id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "regex",
                  "regex": "[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                }
              ]
            },
            "$[*].tickets[*].projectId": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets[*].status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets[*].title": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$[*].tickets[*].updatedAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$[*].updatedAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          },
          "header": {},
          "status": {}
        },
        "status": 200
      }
    },
    {
      "description": "a request to create a new project",
      "providerStates": [
        {
          "name": "the server accepts new projects"
        }
      ],
      "request": {
        "body": {
          "createdAt": 1709000000000,
          "description": "A newly created project",
          "epics": [],
          "features": [],
          "id": "550e8400-e29b-41d4-a716-446655440020",
          "name": "New Project",
          "status": "planning",
          "tickets": [],
          "updatedAt": 1709000000000
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/projects"
      },
      "response": {
        "body": {
          "createdAt": 1709000000000,
          "description": "A newly created project",
          "epics": [],
          "features": [],
          "id": "550e8400-e29b-41d4-a716-446655440020",
          "name": "New Project",
          "status": "planning",
          "tickets": [],
          "updatedAt": 1709000000000
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.createdAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            },
            "$.description": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.id": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.name": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.status": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            },
            "$.updatedAt": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "integer"
                }
              ]
            }
          },
          "header": {},
          "status": {}
        },
        "status": 201
      }
    },
    {
      "description": "a request to create an invalid project",
      "providerStates": [
        {
          "name": "the server validates project data"
        }
      ],
      "request": {
        "body": {
          "name": "Missing required fields"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "method": "POST",
        "path": "/api/projects"
      },
      "response": {
        "body": {
          "error": "Invalid project: Required"
        },
        "headers": {
          "Content-Type": "application/json"
        },
        "matchingRules": {
          "body": {
            "$.error": {
              "combine": "AND",
              "matchers": [
                {
                  "match": "type"
                }
              ]
            }
          },
          "header": {},
          "status": {}
        },
        "status": 400
      }
    }
  ],
  "metadata": {
    "pact-js": {
      "version": "13.2.0"
    },
    "pactRust": {
      "ffi": "0.4.22",
      "models": "1.2.3"
    },
    "pactSpecification": {
      "version": "3.0.0"
    }
  },
  "provider": {
    "name": "SwarmUI-API"
  }
}